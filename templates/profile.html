{% extends "base.html" %}
{% block content %}

    <div class="row">
        <div class="col s12 m6 offset-m3">
            <div class="card profile-card">
    
                <!-- user information -->
                <div class="card-image profile-image-container">
                    {% if user_image == "" %}
                        <img class="profile-image" src="https://res.cloudinary.com/silorak/image/upload/v1636442322/blank-profile-picture-973460_960_720_aekp52.webp">
                    {% else %}
                        <img class="profile-image" src="{{ user_image }}">
                    {% endif %}
                    <a class="btn-floating right-alighn halfway-fab waves-effect waves-light">
                        <i class="fas fa-pen profile-pic-edit"></i>
                    </a>
                </div>
                <div class="card-content">
                    <h4 class="form-title line-br black-text">
                        {{ username.capitalize() }}
                    </h4>
                    <div class="row info-user center">
                        <div class="col s12 awarege-text info">Email</div>
                        <div class="col s12 awarege-text info">{{ email }}</div>
                        <div class="col s12"><button class="btn-small profile-pic-edit awarege-text info">Edit</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- User recipes -->
    <div class="row">
        <!-- User recipes navigations -->
        <div class="col s12">
            <ul class="tabs productas-catalog-navigation">
                <li class="tab active col s6"><a class="black-text awarege-title center" href="#user-recipes">Your Recipes</a></li>
                <li class="tab col s6"><a class="black-text awarege-title center" href="#user-like-recipes">Recipes You Like</a></li>
            </ul>
        </div>
        <!-- End of: User recipes navigations -->

        <!-- User recipes list -->
        <div id="user-recipes" class="col s12">
            <ul class="collapsible product-catalog-body">
                {% for recipe in recipes %}
                    {% if session.user|lower == recipe.author|lower %}
                        <!-- Big screen list -->
                        <li class="big-catalog">
                            <div class="collapsible-header products-collapsible-header">
                                <div class="col s4"><img class="carusel-img product-catalog-image" src="{{ recipe.recipe_image }}"
                                        alt="Picture of {{ recipe.recipe_image }}"></div>
                                <div class="col s8">
                                    <h4 class="awarege-title left">{{ recipe.recipe_name.upper() }}</h4>
                                </div>
                            </div>
                            <div class="collapsible-body">
                                <div class="row instructions-field">
                                    <p class="small-title center">Ingredients</p>
                                    <ul class="ingredient-list">
                                        {% for ingredient in recipe.recipe_ingredients %}
                                            <li class="awarege-text ingredient-item">
                                                - {{ ingredient.capitalize() }}
                                            </li>
                                        {% endfor %}
                                    </ul>
                                    <p class="small-title center">Directions</p>
                                    <ol class="directions-list">
                                        {% for direction in recipe.recipe_directions %}
                                            <li class="awarege-text direction-item">
                                                {{ direction.capitalize() }}
                                            </li>
                                        {% endfor %}
                                    </ol>
                                    <div class="row">
                                        <div class="col s2 offset-m8"><a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" class="btn-small">Edit</a></div>
                                        <div class="col s2 "><a class="btn-small">Delete</a></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- End of: Big screen list -->

                        <!-- Mobile catalog list -->
                        <li class="small-catalog">
                            <div class="collapsible-header products-collapsible-header">
                                <ul>
                                    <li>
                                        <img class="product-catalog-image" src="{{ recipe.recipe_image }}"
                                        alt="Picture of {{ recipe.recipe_image }}">
                                    </li>
                                    <li>
                                        <h4 class="smallscreen-awarege-title left">{{ recipe.recipe_name.upper() }}</h4>
                                    </li>
                                </ul>
                            </div>
                            <div class="collapsible-body">
                                <div class="row instructions-field">
                                    <p class="small-title center">Ingredients</p>
                                    <ul class="ingredient-list">
                                        {% for ingredient in recipe.recipe_ingredients %}
                                            <li class="awarege-text ingredient-item">
                                                - {{ ingredient.capitalize() }}
                                            </li>
                                        {% endfor %}
                                    </ul>
                                    <p class="small-title center">Directions</p>
                                    <ol class="directions-list">
                                        {% for direction in recipe.recipe_directions %}
                                            <li class="awarege-text direction-item">
                                                {{ direction.capitalize() }}
                                            </li>
                                        {% endfor %}
                                    </ol>
                                    <div class="row">
                                        <div class="col s6 left"><a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" class="btn-small">Edit</a></div>
                                        <div class="col s6 right "><a class="btn-small">Delete</a></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- End of: Mobile catalog list -->
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
        <!-- End of: User recipes list -->

    
        <div id="user-like-recipes" class="col s12">
            <ul class="collapsible">
                {% for recipe in recipes %}
                <li>
                    <div class="collapsible-header">
                        <h5>{{ recipe.recipe_name.upper() }}</h5>
                    </div>
                    <div class="collapsible-body">
                        <div class="row">
                            <div class="col s2 offset-m8"><button class="btn-small">Edit</button></div>
                            <div class="col s2 "><button class="btn-small">Delete</button></div>
                        </div>
                        <ul class="user-recipe">
                            {% for ingredient in recipe.recipe_ingredients %}
                            <li>
                                {{ ingredient.capitalize() }}
                            </li>
                            {% endfor %}
                        </Ul class="user-recipe">
                        <ol>
                            {% for direction in recipe.recipe_directions %}
                            <li>
                                {{ direction.capitalize() }}
                            </li>
                            {% endfor %}
                        </ol>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <!-- end of user recipes -->
    
    <!-- add recepy -->
    <div class="row add-recipe-btn-container center">
        <a href="{{ url_for('add_recipe') }}">
            <button class="btn add-recipe-btn awarege-text">Add Recipe</button>
        </a>
    </div>

{% endblock %}