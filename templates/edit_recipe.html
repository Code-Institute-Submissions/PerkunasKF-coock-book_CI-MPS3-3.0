{% extends "base.html" %}
{% block content %}

    <h4>Add Recipe</h4>

    <div class="row">
        <form class="col s12" method="POST" action="{{ url_for('add_recipe') }}">
            <div class="row">
                {% for recipe in recipes_list %}
                    {% if recipe.recipe_name == recipe_select.recipe_name %}
                        <div class="input-field col s12">
                            <input id="recipe_name" name="recipe_name" type="text" class="validate" maxlength="50"
                            value="{{ recipe.recipe_name }}" required>
                            <label for="recipe_name">Recipe Name</label>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="row">
                <div id="ingredient-list" class="col s12">
                    <ul id="edit_ingredients">
                        {% for recipe in recipes_list %}
                            {% if recipe.recipe_name == recipe_select.recipe_name %}
                                {% set count = namespace(value=0) %}
                                {% for ingredient in recipe.recipe_ingredients %}
                                    <li class="edit-ing-input-field" id="edit-ingredient-list-item-{{ count.value }}" number="{{ count.value }}">
                                        <div class="row">
                                            <div class="col s9"><input name="recipe_ingredient" type="text" class="recipe_ing"
                                                value="{{ ingredient }}" required=""></div>
                                            <div class="col s3 edit-item-remuve" id="edit-ingredient-list-item-remuve-{{ count.value }}" number="{{ count.value }}">
                                                <p>Remuve</p>
                                            </div>
                                        </div>
                                    </li>
                                    {% set count.value = count.value + 1 %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="row">
                <div id="direction-list" class="col s12">
                    <ul id="edit-directions">
                        {% for recipe in recipes_list %}
                            {% if recipe.recipe_name == recipe_select.recipe_name %}
                                {% set count = namespace(value=0) %}
                                {% for direction in recipe.recipe_directions %}
                                    <li class="edit-dir-input-field" id="edit-directions-list-item-{{ count.value }}" number="{{ count.value }}">
                                        <div class="row">
                                            <div class="col s9">
                                                <textarea name="recipe_direction" type="text" class="recipe_dir"
                                                required="">
                                                {{ direction }}
                                            </textarea>
                                            </div>
                                            <div class="col s3" id="edit-direction-list-item-remuve-{{ count.value }}">
                                                <p>Remuve</p>
                                            </div>
                                        </div>
                                    </li>
                                    {% set count.value = count.value + 1 %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col s4">
                    <p>
                        <label>
                            <input name="meal_type" type="radio" value="breakfast" required />
                            <span>Breakfast</span>
                        </label>
                    </p>
                </div>
                <div class="col s4">
                    <p>
                        <label>
                            <input name="meal_type" type="radio" value="lunch" />
                            <span>Lunch</span>
                        </label>
                    </p>
                </div>
                <div class="col s4">
                    <p>
                        <label>
                            <input name="meal_type" type="radio" value="dinner" />
                            <span>Dinner</span>
                        </label>
                    </p>
                </div>
            </div>
            <div class="row">
                <div id="upload_widget" class="cloudinary-button">Upload files</div>
            </div>
            <div class="row" style="display: none;">
                <input id="recipe_image" name="recipe_image" type="text">
                <label for="recipe_image"></label>
            </div>
            <div class="row">
                <button type="submit" class="btn-large">Add Recipy</button>
            </div>
        </form>
    </div>


{% endblock %}